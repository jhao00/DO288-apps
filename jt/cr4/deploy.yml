---
- name: Configure managed nodes
  hosts:
    - junos
    - ios
  gather_facts: false
  tasks:
    - name: Deploy Junos configuration
      when: ansible_network_os == 'junipernetworks.junos.junos'
      junipernetworks.junos.junos_config:
        src: configs/{{ inventory_hostname }}.cfg

    - name: Deploy IOS configuration
      when: ansible_network_os == 'cisco.ios.ios'
      cisco.ios.ios_config:
        src: configs/{{ inventory_hostname }}.cfg
