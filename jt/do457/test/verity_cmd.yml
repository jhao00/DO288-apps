- name: Verify changes
  hosts: test
  gather_facts: no
  become: yes

  vars:
    verify: snmp

  tasks:
    - name: verify snmp ios
      vars:
        action:
          - show ip interface brief
      when: ansible_network_os == "cisco.ios.ios"
      ansible.builtin.include_tasks: tasks/verify_{{ verify }}_ios.yml

    - name: verify snmp junos
      vars:
        action:
          - show interface terse
      when: ansible_network_os == "junipernetworks.junos.junos"
      ansible.builtin.include_tasks: tasks/verify_{{ verify }}_junos.yml


